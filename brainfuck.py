t=d=0;p,m="",[0]*1000
for i in input():j="]+[-><.,".find(i);p+=" "*t+"0 m[d]+=1 while+m[d]: m[d]-=1 d+=1 d-=1 print(end=chr(m[d])) m[d]=ord(input())".split()[j]+"\n";t-=(j<3)*(1-j)
exec(p)
